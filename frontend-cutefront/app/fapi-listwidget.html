<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>FAPIListWidget Example</title>
    <link href="../lib/bootstrap-5.2.3-dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="../lib/include/bootstrap-icons/css/bootstrap-icons.min.css" rel="stylesheet">
    <link href="../lib/include/fontawesome/css/all.min.css" rel="stylesheet">
</head>
<body>

<table id="example-table" class="table table-striped">
</table>

<button id="resend">resend data</button>

</body>
<script src="../lib/bootstrap-5.2.3-dist/js/bootstrap.bundle.min.js"></script>

<script type="module">

// mock data
var data = [
    {
        "uuid": "123456",
        "title": "title 1",
        "description": "stuff 1",
    },
    {
        "uuid": "223456",
        "title": "title 2",
        "description": "stuff 2",
    }
]

import { DummyWidget } from '../lib/base/widget.js'
import { FAPIListWidget } from './fapi-listwidget.js'
var dummy_widget = new DummyWidget();
var example_list = new FAPIListWidget("example-table");

example_list.setLogLevel(-1); // debugging

// connect signals
example_list.signals.edit_datum.connect( (obj) => {
    console.log("edit_datum", obj);
});

example_list.signals.delete_datum.connect( (obj) => {
    console.log("delete_datum", obj);
});

// send data to widget
example_list.datums_slot(data);

let button = document.getElementById("resend");

button.onclick = () => {
    // resend data to widget
    example_list.datums_slot(data);
};

</script>
